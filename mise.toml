[tools]
go = "1.25.5"
uv = "0.9.11"

[tasks.build]
description = "Build tropos binary"
run = "go build -o tropos ./cmd/tropos"

[tasks.test]
description = "Run all tests"
depends = ["test:unit", "test:integration"]

[tasks."test:unit"]
description = "Run Go unit tests"
run = "go test ./..."

[tasks."test:integration"]
description = "Run scrut integration tests"
depends = ["build"]
run = "PATH=$PWD:$PATH scrut test tests/"
